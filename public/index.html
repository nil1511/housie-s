<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Bingo Server</title>
  <script src='/primus/primus.js'></script>
</head>

<body>
  <p>
    Welcome to Bingo Online.
  </p>
  <script>
    // var port = 3000;
    var primus = Primus.connect();
    primus.write({
      'msg': 'you can write directly, we will queue it'
    });
    primus.write('until the open event is called and flush it');
    primus.on('reconnect', function() {
      console.log('primus: reconnect event happend');
    });
    primus.on('open', function() {
      console.log('primus: connection established');
      primus.write('hello world');
    });
    primus.on('error', function(err) {
      console.log('primus: error event', err);
    });
    primus.on('data', function(data) {
      console.log('primus: received data', data);
    });
    primus.on('end', function() {
      console.log('primus: connection closed');
    });
  </script>
